<!-- TO DO:
 - download chevron svg from figma to replace the existing
 - align chevron to the left

-->

<!-- TO DO:
 Nath: Fix Animation
 - remove the hyperlink in text in each div inside the summary
-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JurisTopic - Results</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        poppins: ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        'brand-blue': {
                            DEFAULT: '#5060FF',
                            dark: '#3944B5',
                            light: '#8A94FF',
                            bg: 'rgba(201, 206, 255, 0.3)' 
                        },
                        'brand-gray': {
                            DEFAULT: '#3B3B3B',
                            light: '#F5F5FB',
                            border: '#EBEBEB',
                            text: '#555555' 
                        }
                    },
                    boxShadow: {
                        'primary': '0px 12px 20px rgba(80, 96, 255, 0.12)',
                        'button': '0px 10px 40px rgba(80, 96, 255, 0.25)',
                    }
                }
            }
        }
    </script>

    <style>

        details > summary {
            list-style: none; 
        }
        details > summary::-webkit-details-marker {
            display: none; 
        }
        details[open] > summary .chevron {
            transform: rotate(90deg);
        }
    </style>

</head>
<body class="bg-brand-gray-light font-poppins text-brand-gray-text antialiased">

    <div class="min-h-screen w-full flex flex-col items-center py-16 sm:py-20 lg:py-28 px-4">
        <main class="w-full max-w-5xl flex flex-col items-center gap-10">

            
            <!-- Header -->
            <header class="text-center flex flex-col items-center gap-2 max-w-xl">
                <a href="search.html" class="no-underline">
                    <h1 class="text-4xl sm:text-5xl font-bold leading-tight">
                        <span class="text-brand-gray">Juris</span><span class="text-brand-blue">Topic</span>
                    </h1>
                </a>
                <p class="text-base sm:text-lg text-brand-gray-text">
                    A Smarter Way to Explore Philippine Legal Topics
                </p>
            </header>

            <!-- Topic Hierarchy Card -->
            <section class="w-full bg-white rounded-2xl shadow-primary border border-brand-gray-border p-6 sm:p-8 md:p-10 flex flex-col gap-6">
                <h2 class="text-2xl font-semibold text-brand-gray">Topic Hierarchy</h2>
                <div class="border border-brand-gray-border rounded-lg p-4 space-y-2">

                <!-- Root Level: Criminal Law -->
                <div class="space-y-4">
                    <details open class="group">
                        <summary class="flex items-center justify-between cursor-pointer p-3 rounded-lg hover:bg-brand-gray-light transition-colors">
                            <div class="flex items-center gap-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="chevron h-5 w-5 text-brand-gray-text transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                                <img src="src/Icon.svg" alt="How it works icon" class="h-6 w-6" />
                                <span id="active-topic" class="topic-title text-lg font-semibold text-brand-gray hover:underline cursor-pointer" data-topic="Criminal Law (12)">Criminal Law (12)</span>
                            </div>
                        </summary>
                        
                        <!-- Keywords for Criminal Law -->
                        <div class="flex flex-wrap items-center gap-2 pt-2 pb-4 pl-12">
                            <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">penal code</span>
                            <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">criminal liability</span>
                            <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">felony</span>
                        </div>

                        <!-- Nested Children of Criminal Law -->
                        <div class="ml-6 pl-6 border-l-2 border-brand-gray-border space-y-4">
                            
                            <!-- Level 2: Property Crimes -->
                            <details open class="group">
                                <summary class="flex items-center justify-between cursor-pointer p-3 rounded-lg hover:bg-brand-gray-light transition-colors">
                                    <div class="flex items-center gap-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="chevron h-5 w-5 text-brand-gray-text transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                                        <img src="src/Icon.svg" alt="How it works icon" class="h-6 w-6" />
                                        <span id="active-topic" class="topic-title text-lg font-semibold text-brand-gray hover:underline cursor-pointer" data-topic="Property Crimes (8)">Property Crimes (8)</span>
                                    </div>
                                </summary>
                                
                                <div class="flex flex-wrap items-center gap-2 pt-2 pb-4 pl-12">
                                     <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">ownership</span>
                                     <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">possession</span>
                                </div>

                                <!-- Level 3: Theft -->
                                <div class="ml-6 pl-6 border-l-2 border-brand-gray-border space-y-4">
                                    <details open class="group">
                                        <summary class="flex items-center justify-between cursor-pointer p-3 rounded-lg hover:bg-brand-gray-light transition-colors">
                                            <div class="flex items-center gap-3">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="chevron h-5 w-5 text-brand-gray-text transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                                                <img src="src/Icon.svg" alt="How it works icon" class="h-6 w-6" />
                                                <span id="active-topic" class="topic-title text-lg font-semibold text-brand-gray hover:underline cursor-pointer" data-topic="Theft (5)">Theft (5)</span>
                                            </div>
                                        </summary>
                                        <div class="flex flex-wrap items-center gap-2 pt-2 pb-4 pl-12">
                                             <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">Article 308</span>
                                             <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">intent to gain</span>
                                             <span class="bg-brand-blue-bg border border-brand-blue-light text-brand-blue-dark rounded-full px-3 py-1 text-sm font-medium">without consent</span>
                                        </div>
                                    </details>
                                </div>
                            </details>
                        </div>
                    </details>
                </div>
                </div>
            </section>

            <!-- Relevant Documents Card -->
            <section id="relevant-docs" class="hidden  w-full bg-white rounded-2xl shadow-primary border border-brand-gray-border p-6 sm:p-8 md:p-10 flex flex-col gap-4" data-show="">
                <h2 class="text-2xl font-semibold text-brand-gray">Relevant Documents for <span class="text-brand-blue">Theft</span></h2>
                <div class="flex flex-col divide-y divide-brand-gray-border">
                    <div class="py-4">
                        <p class="text-sm text-brand-gray-text">G.R. No. L-41462</p>
                        <a href="#" class="text-lg font-medium text-brand-blue hover:underline">People vs. Dino</a>
                    </div>
                    <div class="py-4">
                        <p class="text-sm text-brand-gray-text">G.R. No. 5051</p>
                        <a href="#" class="text-lg font-medium text-brand-blue hover:underline">People vs. Gatchalian</a>
                    </div>
                    <div class="py-4">
                        <p class="text-sm text-brand-gray-text">G.R. No. 5051</p>
                        <a href="#" class="text-lg font-medium text-brand-blue hover:underline">People vs. Miranda</a>
                    </div>
                    <div class="py-4">
                        <p class="text-sm text-brand-gray-text">G.R. No. 5051</p>
                        <a href="#" class="text-lg font-medium text-brand-blue hover:underline">People vs. Santos</a>
                    </div>
                    <div class="py-4">
                        <p class="text-sm text-brand-gray-text">G.R. No. 5051</p>
                        <a href="#" class="text-lg font-medium text-brand-blue hover:underline">People vs. Cabalse</a>
                    </div>
                </div>
            </section>

            <!-- Footer Action -->
            <footer class="mt-4">
                <a href="search.html" class="inline-flex items-center gap-3 bg-white rounded-xl shadow-button border border-brand-gray-border px-8 py-3 text-lg font-semibold text-brand-gray hover:shadow-lg transition-shadow duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                    </svg>
                    Start a New Search
                </a>
            </footer>

            <!-- Toggle Logic Script -->
            <script>
                const criminalLawDetails = document.getElementById('criminal-law');
                const relevantDocsSection = document.getElementById('relevant-docs');

                criminalLawDetails.addEventListener('toggle', () => {
                if (criminalLawDetails.open) {
                    relevantDocsSection.classList.remove('hidden');
                } else {
                    relevantDocsSection.classList.add('hidden');
                }
                });
            </script>
            </body>
            </html>

        </main>
    </div>

    <script>
        const titles = document.querySelectorAll('.topic-title');
        const docsSection = document.getElementById('relevant-docs');
        const topicLabel = document.getElementById('active-topic');

        titles.forEach(title => {
            title.addEventListener('click', (e) => {
                e.stopPropagation(); 
                const selectedTopic = title.dataset.topic;
                topicLabel.textContent = selectedTopic;
                docsSection.classList.remove('hidden');
                docsSection.scrollIntoView({ behavior: 'smooth' });
            });
        });

        const summaries = document.querySelectorAll('summary');
        summaries.forEach(summary => {
            summary.addEventListener('click', (e) => {
                const isChevron = e.target.closest('.chevron');
                if (!isChevron) {
                    e.preventDefault();
                }
            });
        });
    </script>

</body>
</html>